<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Pokeindio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logo-pokeindio.png">

  <style>
    /* (mantive o mesmo CSS da vers√£o anterior) */
    :root {
      --bg: #f5f5f5;
      --text: #222;
      --accent: #d62828;
      --card: #fff;
      --card-border: #ccc;
      --green1: #4caf50;
      --green2: #2e7d32;
    }
    body.dark {
      --bg: #121212;
      --text: #f1f1f1;
      --card: #1e1e1e;
      --card-border: #333;
    }
    *{box-sizing:border-box}
    body{font-family:Arial,sans-serif;background:var(--bg);margin:0;padding:20px;color:var(--text);transition:background .3s,color .3s}
    .container{max-width:1000px;margin:0 auto}
    header{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;margin-bottom:18px;text-align:center}
    .brand{display:flex;flex-direction:column;align-items:center;gap:8px}
    #logo{width:120px;height:auto;border-radius:50%;box-shadow:0 4px 12px rgba(0,0,0,0.1)}
    h1{color:var(--accent);font-size:1.8rem;margin:0}
    #contador{font-weight:700;margin:6px 0}
    .theme-toggle{background:var(--card);color:var(--text);border:1px solid var(--card-border);padding:6px 12px;border-radius:8px;cursor:pointer;font-weight:bold;transition:background .3s,color .3s}
    .search-box{margin-top:10px;width:100%;max-width:300px;display:flex;justify-content:center}
    #busca{width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--card-border);background:var(--card);color:var(--text);font-size:1rem;outline:none;transition:border .3s}
    #busca:focus{border-color:var(--accent)}
    .progresso-container{width:100%;height:14px;background:#e6e6e6;border-radius:999px;overflow:hidden}
    body.dark .progresso-container{background:#333}
    .progresso-barra{height:100%;width:0;background:linear-gradient(90deg,var(--green1),var(--green2));transition:width .25s}
    .pokedex{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:10px;margin-top:12px}
    .pokemon{background:var(--card);border:1px solid var(--card-border);border-radius:12px;padding:10px;text-align:center;transition:.15s;cursor:pointer;user-select:none}
    .pokemon:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,0.08)}
    .pokemon.captured{background:#d9fdd3;border-color:var(--green2)}
    body.dark .pokemon.captured{background:#2a3d2a}
    .pokemon img{width:72px;height:72px;image-rendering:pixelated}
    .pokemon span{display:block;margin-top:5px;font-weight:600;font-size:.85rem}
    footer{margin-top:18px;text-align:center;color:#666;font-size:.85rem}
    body.dark footer{color:#aaa}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <img id="logo" src="logo-pokeindio.png" alt="Logo Pokeindio">
        <h1>Pokeindio</h1>
        <div id="contador">0 / 151 capturados</div>
        <div class="search-box">
          <input type="text" id="busca" placeholder="üîç Buscar Pok√©mon...">
        </div>
        <button class="theme-toggle" id="toggleTema">üåô Modo Escuro</button>
      </div>
    </header>

    <div class="progresso-container">
      <div class="progresso-barra" id="barra"></div>
    </div>

    <div class="pokedex" id="pokedex"></div>

    <footer>
      Pokeindio ‚Ä¢ Pok√©dex com os 151 Pok√©mon originais de Kanto ‚Ä¢ Sprites carregados da PokeAPI.
    </footer>
  </div>

  <script>
    const pokedexDiv = document.getElementById('pokedex');
    const contador = document.getElementById('contador');
    const barra = document.getElementById('barra');
    const toggleTema = document.getElementById('toggleTema');
    const buscaInput = document.getElementById('busca');

    const pokemons = [/* lista dos 151 Pok√©mon (mesma de antes) */];

    let captured = JSON.parse(localStorage.getItem('captured')) || [];

    function atualizarProgresso(){
      contador.textContent = `${captured.length} / ${pokemons.length} capturados`;
      const porcentagem = (captured.length / pokemons.length) * 100;
      barra.style.width = porcentagem + '%';
    }

    function criarCard(pokemon, index){
      const div = document.createElement('div');
      div.className = 'pokemon';
      const imgUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${index+1}.png`;
      div.innerHTML = `<img src="${imgUrl}" alt="${pokemon}"><span>${index+1}. ${pokemon}</span>`;
      if(captured.includes(index)) div.classList.add('captured');
      div.addEventListener('click', () => {
        if(captured.includes(index)){
          captured = captured.filter(i => i !== index);
          div.classList.remove('captured');
        } else {
          captured.push(index);
          div.classList.add('captured');
        }
        localStorage.setItem('captured', JSON.stringify(captured));
        atualizarProgresso();
      });
      return div;
    }

    function render(filtro = ''){
      pokedexDiv.innerHTML = '';
      const frag = document.createDocumentFragment();
      pokemons.forEach((pkm,i) => {
        if (pkm.toLowerCase().includes(filtro.toLowerCase())) {
          frag.appendChild(criarCard(pkm,i));
        }
      });
      pokedexDiv.appendChild(frag);
    }

    buscaInput.addEventListener('input', (e) => render(e.target.value));

    function aplicarTemaEscuro(ativo) {
      if (ativo) {
        document.body.classList.add('dark');
        toggleTema.textContent = '‚òÄÔ∏è Modo Claro';
      } else {
        document.body.classList.remove('dark');
        toggleTema.textContent = 'üåô Modo Escuro';
      }
    }

    const temaSalvo = localStorage.getItem('temaEscuro') === 'true';
    aplicarTemaEscuro(temaSalvo);

    toggleTema.addEventListener('click', () => {
      const ativo = !document.body.classList.contains('dark');
      aplicarTemaEscuro(ativo);
      localStorage.setItem('temaEscuro', ativo);
    });

    render();
    atualizarProgresso();
  </script>
</body>
    </html>
