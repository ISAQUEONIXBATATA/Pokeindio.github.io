<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Pokeindio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="logo-pokeindio.ico">
  <style>
    :root {
      --bg: #f5f5f5;
      --accent: #ff1c1c;
      --accent-dark: #c71414;
      --card: #fff;
      --green1: #4caf50;
      --green2: #2e7d32;
      --blue: #3b4cca;
      --yellow: #ffcb05;
    }

    * { box-sizing: border-box; }
    body {
      font-family: "Trebuchet MS", Arial, sans-serif;
      background: linear-gradient(180deg, var(--yellow) 0%, var(--bg) 100%);
      margin: 0;
      padding: 0 20px 80px;
      color: #222;
      position: relative;
      overflow-x: hidden;
    }

    /* Pok√©bolas decorativas */
    .pokeball-bg {
      position: fixed;
      width: 120px;
      height: 120px;
      background: linear-gradient(to bottom, red 50%, white 50%);
      border: 6px solid black;
      border-radius: 50%;
      opacity: 0.15;
      z-index: -1;
      animation: spin 20s linear infinite;
    }
    .pokeball-bg::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 30px;
      height: 30px;
      background: white;
      border: 5px solid black;
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }
    .pokeball1 { top: 10%; left: 5%; }
    .pokeball2 { top: 40%; right: 5%; animation-duration: 25s; }
    .pokeball3 { bottom: 15%; left: 15%; animation-duration: 30s; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

    .container { max-width: 1000px; margin: 0 auto; }
    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
      text-align: center;
      padding: 20px;
      background: linear-gradient(90deg, var(--blue), var(--accent));
      color: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .brand { display: flex; flex-direction: column; align-items: center; gap: 8px; }
    #logo { width: 120px; border-radius: 50%; border: 3px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
    h1 { font-size: 2rem; margin: 0; text-shadow: 2px 2px 0 #222; }
    #contador { font-weight: 700; margin: 6px 0; font-size: 1.1rem; }
    .progresso-container {
      width: 100%;
      height: 18px;
      background: #e6e6e6;
      border-radius: 999px;
      overflow: hidden;
      margin: 12px 0;
    }
    .progresso-barra { height: 100%; width: 0; background: linear-gradient(90deg, var(--green1), var(--green2)); transition: width .25s; }

    .acoes { margin-top: 10px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
    #search { padding: 8px 12px; border: 2px solid var(--blue); border-radius: 8px; font-size: 1rem; width: 220px; }
    #reset { background: var(--accent); color: #fff; border: none; padding: 8px 14px; border-radius: 8px; font-size: 0.95rem; cursor: pointer; transition: 0.2s; box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
    #reset:hover { background: var(--accent-dark); }

    .pokedex {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 14px;
      margin-top: 20px;
    }
    .pokemon {
      background: var(--card);
      border: 2px solid #ccc;
      border-radius: 12px;
      padding: 10px;
      text-align: center;
      transition: .15s;
      cursor: pointer;
      user-select: none;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      position: relative;
    }
    .pokemon:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); border-color: var(--blue); }
    .pokemon.captured { background: #d9fdd3; border-color: var(--green2); box-shadow: 0 4px 10px rgba(0,0,0,0.15); }
    .pokemon img { width: 80px; height: 80px; image-rendering: pixelated; }
    .pokemon span { display: block; margin-top: 6px; font-weight: 600; font-size: 0.9rem; }

    footer { margin-top: 18px; text-align: center; color: #333; font-size: 0.85rem; padding: 12px; border-top: 2px solid #ccc; }

    #topBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--blue);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }
    #topBtn:hover { background: var(--accent); }

    /* Tremor e brilho Pok√©mon */
    @keyframes shake { 0%,100%{transform:translateX(0);} 20%{transform:translateX(-5px);} 40%{transform:translateX(5px);} 60%{transform:translateX(-5px);} 80%{transform:translateX(5px);} }
    .captured-glow { animation: glowAnim 0.8s ease-in-out; }
    @keyframes glowAnim { 0%{box-shadow:0 0 0 gold;} 25%{box-shadow:0 0 10px gold;} 50%{box-shadow:0 0 20px gold;} 75%{box-shadow:0 0 10px gold;} 100%{box-shadow:0 0 0 gold;} }

    /* Pok√©bola animada e fa√≠scas */
    .pokeball-capture { position:absolute;width:50px;height:50px;pointer-events:none;background:linear-gradient(to bottom, red 50%, white 50%);border:4px solid black;border-radius:50%;z-index:1000;transform:scale(0) rotate(0deg);animation:captureAnim 0.8s forwards; }
    .pokeball-capture::after { content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;background:white;border:3px solid black;border-radius:50%;transform:translate(-50%,-50%); }
    @keyframes captureAnim { 0%{transform:scale(0) rotate(0deg);opacity:0;} 30%{transform:scale(1.2) rotate(180deg);opacity:1;} 60%{transform:scale(1) rotate(360deg);opacity:1;} 100%{transform:scale(0) rotate(540deg);opacity:0;} }
    .sparkle { position:absolute;width:6px;height:6px;background:yellow;border-radius:50%;opacity:0;z-index:1001;box-shadow:0 0 8px yellow,0 0 12px white;animation:sparkleAnim 0.6s forwards; }
    @keyframes sparkleAnim { 0%{transform:translate(0,0) scale(0);opacity:1;} 50%{transform:translate(var(--dx),var(--dy)) scale(1);opacity:1;} 100%{transform:translate(var(--dx),var(--dy)) scale(0);opacity:0;} }
  </style>
</head>
<body>
  <div class="pokeball-bg pokeball1"></div>
  <div class="pokeball-bg pokeball2"></div>
  <div class="pokeball-bg pokeball3"></div>

  <div class="container">
    <header>
      <div class="brand">
        <img id="logo" src="logo-pokeindio.ico" alt="Logo Pokeindio">
        <h1>Pokeindio</h1>
        <div id="contador">0 / 151 capturados</div>
      </div>
      <div class="progresso-container"><div class="progresso-barra" id="barra"></div></div>
      <div class="acoes">
        <input type="text" id="search" placeholder="üîé Pesquisar Pok√©mon...">
        <button id="reset">üîÑ Resetar Capturas</button>
      </div>
    </header>

    <div class="pokedex" id="pokedex"></div>
    <footer>Pok√©dex com os 151 Pok√©mon originais de Kanto ‚Ä¢ Feita por Isaque √çndio</footer>
  </div>

  <button id="topBtn">‚¨ÜÔ∏è</button>

  <script>
    const pokedexDiv = document.getElementById('pokedex');
    const contador = document.getElementById('contador');
    const barra = document.getElementById('barra');
    const searchInput = document.getElementById('search');
    const resetBtn = document.getElementById('reset');
    const topBtn = document.getElementById('topBtn');

    const pokeballSound = new Audio("https://www.soundjay.com/button/sounds/button-16.mp3");

    const pokemons = [
      "Bulbasaur","Ivysaur","Venusaur","Charmander","Charmeleon","Charizard",
      "Squirtle","Wartortle","Blastoise","Caterpie","Metapod","Butterfree",
      "Weedle","Kakuna","Beedrill","Pidgey","Pidgeotto","Pidgeot",
      "Rattata","Raticate","Spearow","Fearow","Ekans","Arbok",
      "Pikachu","Raichu","Sandshrew","Sandslash","Nidoran‚ôÄ","Nidorina",
      "Nidoqueen","Nidoran‚ôÇ","Nidorino","Nidoking","Clefairy","Clefable",
      "Vulpix","Ninetales","Jigglypuff","Wigglytuff","Zubat","Golbat",
      "Oddish","Gloom","Vileplume","Paras","Parasect","Venonat","Venomoth","Diglett","Dugtrio","Meowth","Persian","Psyduck","Golduck",
      "Mankey","Primeape","Growlithe","Arcanine","Poliwag","Poliwhirl",
      "Poliwrath","Abra","Kadabra","Alakazam","Machop","Machoke","Machamp",
      "Bellsprout","Weepinbell","Victreebel","Tentacool","Tentacruel",
      "Geodude","Graveler","Golem","Ponyta","Rapidash","Slowpoke","Slowbro",
      "Magnemite","Magneton","Farfetch‚Äôd","Doduo","Dodrio","Seel","Dewgong",
      "Grimer","Muk","Shellder","Cloyster","Gastly","Haunter","Gengar",
      "Onix","Drowzee","Hypno","Krabby","Kingler","Voltorb","Electrode",
      "Exeggcute","Exeggutor","Cubone","Marowak","Hitmonlee","Hitmonchan",
      "Lickitung","Koffing","Weezing","Rhyhorn","Rhydon","Chansey","Tangela",
      "Kangaskhan","Horsea","Seadra","Goldeen","Seaking","Staryu","Starmie",
      "Mr. Mime","Scyther","Jynx","Electabuzz","Magmar","Pinsir","Tauros",
      "Magikarp","Gyarados","Lapras","Ditto","Eevee","Vaporeon","Jolteon",
      "Flareon","Porygon","Omanyte","Omastar","Kabuto","Kabutops","Aerodactyl",
      "Snorlax","Articuno","Zapdos","Moltres","Dratini","Dragonair","Dragonite",
      "Mewtwo","Mew"
    ];

    let captured = JSON.parse(localStorage.getItem('captured')) || [];

    function atualizarProgresso(){
      contador.textContent = `${captured.length} / ${pokemons.length} capturados`;
      const porcentagem = (captured.length / pokemons.length) * 100;
      barra.style.width = porcentagem + '%';
    }

    function criarSparkles(x, y) {
      for (let i = 0; i < 6; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        document.body.appendChild(sparkle);

        const dx = (Math.random() - 0.5) * 80 + 'px';
        const dy = (Math.random() - 0.5) * 80 + 'px';
        sparkle.style.setProperty('--dx', dx);
        sparkle.style.setProperty('--dy', dy);
        sparkle.style.left = x + 'px';
        sparkle.style.top = y + 'px';

        sparkle.addEventListener('animationend', () => sparkle.remove());
      }
    }

    function capturarComAnimacao(div){
      // Tremor do Pok√©mon
      div.style.animation = 'shake 0.3s';
      div.addEventListener('animationend', () => {
        div.style.animation = '';

        // Criar Pok√©bola
        const rect = div.getBoundingClientRect();
        const ball = document.createElement('div');
        ball.className = 'pokeball-capture';
        document.body.appendChild(ball);

        const x = rect.left + rect.width/2 - 25 + window.scrollX;
        const y = rect.top + rect.height/2 - 25 + window.scrollY;
        ball.style.left = x + 'px';
        ball.style.top = y + 'px';

        pokeballSound.currentTime = 0;
        pokeballSound.play();

        setTimeout(() => { criarSparkles(x+25, y+25); }, 300);

        ball.addEventListener('animationend', () => ball.remove());

        // Brilho de vit√≥ria no Pok√©mon capturado
        if(!div.classList.contains('captured')) {
          div.classList.add('captured-glow');
          setTimeout(() => div.classList.remove('captured-glow'), 800);
        }
      }, { once: true });
    }

    function criarCard(pokemon, index){
      const div = document.createElement('div');
      div.className = 'pokemon';
      const imgUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${index+1}.png`;
      div.innerHTML = `<img src="${imgUrl}" alt="${pokemon}"><span>${index+1}. ${pokemon}</span>`;

      if(captured.includes(index)) div.classList.add('captured');

      div.addEventListener('click', () => {
        capturarComAnimacao(div);

        if(captured.includes(index)){
          captured = captured.filter(i => i !== index);
          div.classList.remove('captured');
        } else {
          captured.push(index);
          div.classList.add('captured');
        }
        localStorage.setItem('captured', JSON.stringify(captured));
        atualizarProgresso();
      });
      return div;
    }

    function render(filtro=''){
      pokedexDiv.innerHTML = '';
      const frag = document.createDocumentFragment();
      pokemons.forEach((pkm,i) => {
        if(pkm.toLowerCase().includes(filtro) || (i+1).toString().includes(filtro)){
          frag.appendChild(criarCard(pkm,i));
        }
      });
      pokedexDiv.appendChild(frag);
    }

    searchInput.addEventListener('input', () => {
      const filtro = searchInput.value.toLowerCase();
      render(filtro);
    });

    resetBtn.addEventListener('click', () => {
      if(confirm("Deseja realmente resetar todas as capturas?")){
        captured = [];
        localStorage.removeItem('captured');
        atualizarProgresso();
        render(searchInput.value.toLowerCase());
      }
    });

    window.addEventListener('scroll', () => {
      topBtn.style.display = (document.documentElement.scrollTop > 300) ? "flex" : "none";
    });
    topBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    render();
    atualizarProgresso();
  </script>
</body>
</html>
